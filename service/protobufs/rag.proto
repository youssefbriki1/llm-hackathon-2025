syntax = "proto3";

enum RequestType{
    UPLOAD = 0;
    QUERY = 1;
}

message File{
    string name = 1;
    string path = 2;
    bytes content = 3;
}

message RAGRequest {
    RequestType type = 1;
    string query = 2;
    File file = 3;
}


message RAGResponse {
    string answer = 1;
    repeated string sources = 2;
}

service RAGService {
    rpc HandleRequest (RAGRequest) returns (RAGResponse);
}